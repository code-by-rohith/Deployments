{% extends 'base.html' %}
{% block content %}
<div class="container">
    <h2>Manage Books</h2>
    <div class="book-container">
        {% for book in books %}
        <div class="book-item">
            <h3>{{ book['title'] }}</h3>
            <p><strong>Author:</strong> {{ book['author'] }}</p>
            <p><strong>Year:</strong> {{ book['year'] }}</p>
            <div class="book-actions">
                <a href="{{ url_for('edit_book', book_id=book['_id']) }}">
                    <button>Edit</button>
                </a>
                <a href="{{ url_for('delete_book', book_id=book['_id']) }}" onclick="return confirmDelete();">
                    <button>Delete</button>
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    <div style="text-align: center; margin-top: 20px;">
        <a href="{{ url_for('add_book') }}">
            <button>Add New Book</button>
        </a>
        <a href="{{ url_for('logout') }}">
            <button onclick="confirmLogout()">Logout</button>
        </a>
    </div>
</div>

<script>
    function confirmDelete() {
        return confirm('Are you sure you want to delete this book?');
    }

    function confirmLogout() {
        return confirm('Are you sure you want to logout?');
    }
</script>
{% endblock %}
